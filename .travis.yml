sudo: required
dist: trusty
language: node_js
node_js:
- stable
branches:
  except:
  - gh-pages
addons:
  firefox: latest
  apt:
    sources:
    - google-chrome
    packages:
    - google-chrome-stable
before_script:
- npm install web-component-tester
- npm install bower
- export PATH=$PWD/node_modules/.bin:$PATH
- bower install
script:
- xvfb-run wct --skip-plugin sauce
- if [ "${TRAVIS_PULL_REQUEST}" = "false" ]; then wct --plugin sauce --skip-plugin
  local; fi
after_success:
- if [ "${TRAVIS_PULL_REQUEST}" = "false" ]; then openssl aes-256-cbc -k "$DEPLOYSECRET"
  -in deploy.enc -out deploy_key -d; fi
- cd $TRAVIS_BUILD_DIR/scripts
- chmod 755 ghp.sh
- "./ghp.sh"
env:
  global:
  - secure: i8w2GLc/xccqNJsSRtxSgNEnaPRY2Ma7CZFnQ7zinDamU49rGB38bzO7QpYnpRriJWcEZmLQB99bDp3lBHs+PgxrwEqvszTaRFKKvB2mm60tHOJaIM6Muz5mmejwKlnGpilZGMZiPi8+mdWSxQoQGOk3nIetOn0QV3mzqrygN7EcOvq4fOYT/FV176KAMbNCDeqfM6H0b5co8AowRhXGadhyQAl9xqw2fArlrF+atYLDHW8/lRIbdVB0VgB/ZrulrQL38XgfNkjepCpbN73JWCgHXCeRfOWq+7fv0Cg+zmjYNdTZW/jb8HxCSsTqaFJy+Pjx234IWvWs5pvT7H19wqmYaKy8Io5zcmlZrdmor0TN2wL599ItUhpy+mcQfdJLQK8gCD71GcKgc3uT8z8Le7B+0kdJeYk4ItigR1bf7qPw7hGAR1SMCkk9SNxVdjjNTuAmxOHYahSsrj8A7LRcst3ZT0GkNfAXiv+a/MPJUy/b7zW0Rd6uWfSqqx562jRHnmMa+EZ+uWymQpqD4LdGq1jLRufoHIN5ncUbylelTgEaYZApOvWcje9YTbDrIm00FXq2XOLxCFRN+6m32JiN19H3QjqfMz4lczyiB5/p1mNzuW6tBBio1Dyu5vpi7Y6aKaMPfNn0Gd9J0jl7TfEcyB90Y+j1kWUzBwEV8RsB13c=
  - secure: HY+Ixet3/l0V9umXXW6/P/EKXRMFbQAXjZGkzWS771sLpV7UQAE1ID0NQ9AAvlZDo6puTuwptsdoeTLBGrc2dXfTE7vI8FgsJ1Chr3KCuLi019CgwgAwH8RQH2dBgzTEl/O0D0HDzi/fq0JZx0y9w0G5ZwPCDwUcDwu0wC1erHbzk7GC7Ib2HIrpVvh5h0xwud/38kDc0neEIQib5jMVRjFu1MK85w8o2QJQWiOP5nGltc0yKYXuj7atvZkcOy3XwnghctN95qQ3Qizyd2Rt2dM1G9ooAZg6NE2DBqoYfhvJbq6UQK/CYmFZozELt5V922qpZOsnPMGyeYJfPuIbD9tMsXPen0+JB4O7TG3pBCMCyOCgDeywKPPD1KmdXhD6y83cjk68wsVPYlQLsr7wtWs1zB/HD4YRboGRrB4FU84WT/U0Kr8ypk7Ew/i90xG+AcWI+8epsyO66mscumJgb1Z9mai/SG09H5UJ9vEltrwI1KAfuyOuuQDx9I9MBPXZDgfoKOOsnK20vt4tx2qMvywZ5cYJ9pP3rSPfC1EzmY0Wo5crivrLwuANtxlHlzts8TugztA8nwZn1wBN7r+1z0Y8oBysP5HF5ehmSd+Yo2f2/SJ1/oESF3tz1CHyuE7GyAZU10XFpntH5Zp2UFvHfGQX0FUCfbvVUe1C+0Achoc=
  - secure: loBQifPHBPYcbYsHBXSRUzXcy0Y7VkJ+xprz50TfnkG18wLkUXO+gi3dH9R4s2ng2iRm8zQf0w1rdX+eKiTv1jmmIlvm3z5QhSrR/xlVqXof+deE8bRO2wMF1qGcxAArP0Fm//+id5mo3Hc6GVqHp41ix/UfzmBN2XmBljz0cRisOoRoVUHJmqwW0OUuZbqec6uV33rhFDVcchHMUpzmt1aS4XgDJ7ZNtuDEaIJQ/Jgvrp5D6IrTIGitNgtoVmLWL3zF0H/Kpq68sc7nphlCk1idyoMfUk50loQ3eh5cZCHtSXvdsDtx/C/AtoDGSqwZmnGX0SnK5Lg5MaZxa1vlSzGPw38++TqALBjxK6uQBOCEEErQwgf6yj4Z+J6r069an9hOQ4p1cj7MbDVLVcvKSpchjhPs4Jd3mQ7Api7GdSSr62iD/2O7rMMlAREZEXCeRvPuD1VyJR5oJ3Kw8oo9I92GMgErzZ/r5RbAkfPBbEreDTVs69WqsRAH90DhGgkV8J0h0NQA2ocIkuDhqYAIOEMuU++/QyXsPcJhziFYbDajJLfGazixGECpO5MlG28fIFVjJbtT74Rk15bF5oK2GGc0KDhwZPg5MYOzCKBWqdGkN5fRJq8XnQNQORqC0MfCPJTmj0P5uZPxo1Ti8t0o3StGHLKaoxBsuGNnc4tTwQA=
  - secure: ZyTysYn+TMKhwVmokC6TxUkKLQm2r+jyGyNu02W1YYpyBhrCKfN1i7Pl1yoNXO/PG8EK+XZiZLDluZxoERV2vedCjAmhI9ydRTRyzHCkrLjnJswjSS9a8GiBzkG1UyyWohDyx1aU59qIiF8NPK1rweAZ3Lu4MhMgOl43YUSjBTFJAhnDij7M18TrEvEKjYJvsANSfOWMijCL5cm/brpjxJ4kJ5mJuffc45ZgUo0AKerR2FYuNfgu2+Djfbkb1LLNbG4bI2SlU/79c0xeKDy0uIoZ09OdEz38nUkxh3f7T/T51/1haKtRDNrLrhxxf1HOsa/iUT4ffLisUkO31hdC6QDhrtG6yLi+TMT25QWefmw5jJ45uE0CJEj5FW1KEgTE2jLzsHttGTaclOyQE0gqNpKDh9vSGNkueZRrds6JNvWGSepIGxbw1AKflEdFL/oMFTccapwIyXQ0O7nPjJZ3ubAiq7BaY/OsIkHHVzWH9Dojf552PNhjfq9wEXfv0HIrIwZiYWR5KEWilEEclJgBd84ePsRHoalceOwUHpyqKQqD/atFpylhDQ5wJT9X/r9tfccVEVMcevbkJyRwl09YQT86+z3PF+zoou1z+TYynzukqlaEALwKzhUJQo7Otd6c5Ezx0H8hDoCYpiiY4lEBFgpTFMq1S10zUJP4En0cZzc=
